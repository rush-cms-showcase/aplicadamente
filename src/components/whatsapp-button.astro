---
import IconWhatsapp from '~icons/ph/whatsapp-logo-light'

const whatsappNumber = import.meta.env.WHATSAPP_NUMBER || '5541999999999'
const formattedNumber = whatsappNumber.replace(/\D/g, '')
const whatsappLink = `https://wa.me/${formattedNumber}`
---
<a 
  href={whatsappLink}
  target="_blank"
  rel="noopener noreferrer"
  class="fixed bottom-6 right-6 z-50 bg-[#25D366] text-white p-4 rounded-full shadow-lg hover:scale-110 hover:shadow-xl hover:bg-[#20ba59] focus:outline-none focus:ring-4 focus:ring-green-300 transition-all duration-300 flex items-center justify-center animate-bounce-slow"
  aria-label="Falar no WhatsApp"
>
  <IconWhatsapp class="w-8 h-8" />
</a>

<style>
  @keyframes bounce-slow {
    0%, 100% {
      transform: translateY(-5%);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }
  .animate-bounce-slow {
    animation: bounce-slow 3s infinite;
  }
</style>
